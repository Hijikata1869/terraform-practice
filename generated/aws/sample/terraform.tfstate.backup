{
  "version": 4,
  "terraform_version": "0.13.7",
  "serial": 1,
  "lineage": "9f0c89bf-9e79-bf61-efc1-ff542eabe7b0",
  "outputs": {
    "aws_ecs_cluster_tfer--pta-cluster_id": {
      "value": "arn:aws:ecs:ap-northeast-1:748732166031:cluster/pta-cluster",
      "type": "string"
    },
    "aws_ecs_service_tfer--pta-cluster_pta-service_id": {
      "value": "arn:aws:ecs:ap-northeast-1:748732166031:service/pta-cluster/pta-service",
      "type": "string"
    },
    "aws_ecs_task_definition_tfer--task-definition-002F-ecs_pta_task_id": {
      "value": "ecs_pta_task",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "tfer--pta-cluster",
      "provider": "provider[\"registry.terraform.io/-/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes_flat": {
            "arn": "arn:aws:ecs:ap-northeast-1:748732166031:cluster/pta-cluster",
            "capacity_providers.#": "2",
            "capacity_providers.0": "FARGATE",
            "capacity_providers.1": "FARGATE_SPOT",
            "default_capacity_provider_strategy.#": "0",
            "id": "arn:aws:ecs:ap-northeast-1:748732166031:cluster/pta-cluster",
            "name": "pta-cluster",
            "setting.#": "1",
            "setting.0.name": "containerInsights",
            "setting.0.value": "disabled",
            "tags.%": "1",
            "tags.Environment": "production",
            "tags_all.%": "1",
            "tags_all.Environment": "production"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "tfer--pta-cluster_pta-service",
      "provider": "provider[\"registry.terraform.io/-/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes_flat": {
            "capacity_provider_strategy.#": "0",
            "cluster": "pta-cluster",
            "deployment_circuit_breaker.#": "1",
            "deployment_circuit_breaker.0.enable": "false",
            "deployment_circuit_breaker.0.rollback": "false",
            "deployment_controller.#": "1",
            "deployment_controller.0.type": "ECS",
            "deployment_maximum_percent": "200",
            "deployment_minimum_healthy_percent": "100",
            "desired_count": "2",
            "enable_ecs_managed_tags": "true",
            "enable_execute_command": "true",
            "health_check_grace_period_seconds": "3600",
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:ap-northeast-1:748732166031:service/pta-cluster/pta-service",
            "launch_type": "FARGATE",
            "load_balancer.#": "1",
            "load_balancer.0.container_name": "pta_frontend",
            "load_balancer.0.container_port": "80",
            "load_balancer.0.elb_name": "",
            "load_balancer.0.target_group_arn": "arn:aws:elasticloadbalancing:ap-northeast-1:748732166031:targetgroup/pta-target/58c1a32cd1b870d4",
            "name": "pta-service",
            "network_configuration.#": "1",
            "network_configuration.0.assign_public_ip": "true",
            "network_configuration.0.security_groups.#": "1",
            "network_configuration.0.security_groups.0": "sg-02075dc1149208821",
            "network_configuration.0.subnets.#": "2",
            "network_configuration.0.subnets.0": "subnet-0635816e36cc79294",
            "network_configuration.0.subnets.1": "subnet-0f5ed940db4881191",
            "ordered_placement_strategy.#": "0",
            "placement_constraints.#": "0",
            "platform_version": "1.4.0",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_registries.#": "0",
            "tags.%": "1",
            "tags.Environment": "production",
            "tags_all.%": "1",
            "tags_all.Environment": "production",
            "task_definition": "arn:aws:ecs:ap-northeast-1:748732166031:task-definition/ecs_pta_task:22"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "tfer--task-definition-002F-ecs_pta_task",
      "provider": "provider[\"registry.terraform.io/-/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes_flat": {
            "arn": "arn:aws:ecs:ap-northeast-1:748732166031:task-definition/ecs_pta_task:22",
            "container_definitions": "[{\"cpu\":0,\"environment\":[{\"name\":\"RAILS_ENV\",\"value\":\"production\"}],\"essential\":true,\"image\":\"748732166031.dkr.ecr.ap-northeast-1.amazonaws.com/pta_api:6b78d4eea6fa8b363bf4619513f2c28359e5d3e8\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/ecs_pta_task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"pta_api\",\"portMappings\":[{\"containerPort\":3000,\"hostPort\":3000,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"DB_HOST\",\"valueFrom\":\"pta-db-host\"},{\"name\":\"DB_PASSWORD\",\"valueFrom\":\"pta-db-password\"},{\"name\":\"DB_USERNAME\",\"valueFrom\":\"pta-db-username\"}],\"volumesFrom\":[]},{\"cpu\":0,\"dependsOn\":[{\"condition\":\"START\",\"containerName\":\"pta_api\"}],\"environment\":[],\"essential\":true,\"image\":\"748732166031.dkr.ecr.ap-northeast-1.amazonaws.com/pta_frontend:6b78d4eea6fa8b363bf4619513f2c28359e5d3e8\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"/ecs/ecs_pta_task\",\"awslogs-region\":\"ap-northeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"mountPoints\":[],\"name\":\"pta_frontend\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"volumesFrom\":[{\"sourceContainer\":\"pta_api\"}]}]",
            "cpu": "256",
            "ephemeral_storage.#": "0",
            "execution_role_arn": "arn:aws:iam::748732166031:role/ecsTaskExecutionRole",
            "family": "ecs_pta_task",
            "id": "ecs_pta_task",
            "inference_accelerator.#": "0",
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints.#": "0",
            "proxy_configuration.#": "0",
            "requires_compatibilities.#": "1",
            "requires_compatibilities.0": "FARGATE",
            "revision": "22",
            "runtime_platform.#": "1",
            "runtime_platform.0.cpu_architecture": "",
            "runtime_platform.0.operating_system_family": "LINUX",
            "tags.%": "1",
            "tags.Environment": "production",
            "tags_all.%": "1",
            "tags_all.Environment": "production",
            "task_role_arn": "arn:aws:iam::748732166031:role/ecsTaskExecutionRole",
            "volume.#": "0"
          }
        }
      ]
    }
  ]
}
